<!DOCTYPE html>
<html>
    <head>
        <title>QUnit Engine Tests: Action Module</title>
        <link rel="stylesheet" type="text/css" href="qunit.css">
    </head>
    <body>
        <div id="qunit"></div>
        <div id="qunit-fixture"></div>
        <script type="text/javascript" src="qunit.js" charset="utf-8"></script>
        <script type="text/javascript" src="../common.js" charset="utf-8"></script>
        <script type="text/javascript" src="../action.js" charset="utf-8"></script>
        <script type="text/javascript" charset="utf-8">
        QUnit.test( "Action test / Only Name", function( assert ) {
            var action = new NS_Action.Action( [ "new action" ] );
            assert.equal( action.name, "new action", "Action name correct" );
            assert.notOk( action.actionType, "Action type undefined" );
            assert.notOk( action.execute, "Action execute undefined" );
            assert.deepEqual( action.execArgs, [], "Action execute args empty list" );
            assert.equal( action.active, false, "Action active false" );
            assert.equal( action.remove, true, "Action remove true" );
            assert.notOk( action.callback, "Action callback undefined" );
            assert.deepEqual( action.cbArgs, [], "Action callback args empty list" );
            assert.notOk( action.errorCb, "Action error callback undefined" );
            assert.deepEqual( action.errorCbArgs, [], "Action error callback args empty list" );
        });

        QUnit.test( "Action test / Full arguments", function( assert ) {
            var actionExec = function() {};
            var actionCb = function() {};
            var actionErrorCb = function() {};
            var action = new NS_Action.Action( [ "full action",
                                                 "test",
                                                 actionExec,
                                                 [ "first", "second" ],
                                                 true,
                                                 false,
                                                 actionCb,
                                                 [ "1", "2" ],
                                                 actionErrorCb,
                                                 [ "a", "b" ] ]);
            assert.equal( action.name, "full action", "Action name correct" );
            assert.equal( action.actionType, "test", "Action type correct" );
            assert.equal( action.execute, actionExec, "Action execute correct" );
            assert.deepEqual( action.execArgs, [ "first", "second" ], "Action execute args correct" );
            assert.equal( action.active, true, "Action active true" );
            assert.equal( action.remove, false, "Action remove false" );
            assert.equal( action.callback, actionCb, "Action callback correct" );
            assert.deepEqual( action.cbArgs, [ "1", "2" ], "Action callback args correct" );
            assert.equal( action.errorCb, actionErrorCb, "Action error callback correct" );
            assert.deepEqual( action.errorCbArgs, [ "a", "b" ], "Action error callback args correct" );
        });
        </script>
    </body>
</html>